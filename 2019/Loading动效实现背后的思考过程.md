# Loading动效实现背后的思考过程

有一个制作Loading动效的需求，设计师从AE导出了动画JSON数据，但需要加载 [lottie-web](https://github.com/airbnb/lottie-web) 才能播放，考虑到这种小动效并不是业务中的常见需求，所以我不打算引入 `lottie-web`，而是直接根据动画效果自己用CSS写一个，以下是动效实现的思考过程。

## 动效原型


## 观察细节

- 竖线自始至终只是高度的变化，位置上保持垂直居中，动画时长1秒；
- 坚线有上下渐变效果；
- 从左到右的过程具有波浪效果；
- 动画的开始到结束是一个整体，只有最后一个竖线的动画结束之后才会开始下一轮动画；
- 每根竖线动画结束的时间都比它前一根要晚一点；
- 动画结束后会展示一段时间5个圆点并排的效果；

## 实现过程

### 1、静态样式



### 2、实现波浪效果

一般的波浪效果实现上都是通过 `animate-delay` 让每根竖线延迟开始动画，但这里动画从开始到结束是一个整体，所以这里我们通过为每个竖线独立设置动画进度来实现，让它们间隔 `1/5秒` 的时间高度拉伸到最大。

### 3、设置不同的高度

### 4、设置动画结束时间间隔

每根竖线间隔 `1/5秒` 的时间结束动画。

### 5、结束后的并排的效果

要实现这种效果，只要让动画结束时间提前0.1秒，这样它会保持0.1秒的静止效果。

## 最终效果展示